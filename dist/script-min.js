"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var app=new Vue({el:"#vue",template:'<div class="container" id="scrollToPagination">\n            <div class="filter__container" style="padding-left:10px;padding-right:10px;">\n              <h6>Publiek</h6>\n              <div style="display:flex;flex-direction:row;justify-content:start;width:100%">\n                <button v-for="(a, key) in audience" :key="a.name" v-on:click="toggleStatus(\'audience\', key, audience, totalAudienceActive)" v-bind:class="{\'cc-button--inActive\': setAudienceInactive(a.active) }" class="tagline cc-button" style="margin-right:10px;font-weight:400;margin-bottom:0">\n{{ a.name }}\n                </button>\n              </div>\n              <h6>Genre</h6>\n              <div v-if="genres" style="display:flex;flex-direction:row;justify-content:start;width:100%;flex-wrap:wrap">\n                <button v-bind:disabled="genre.total === 0" v-on:click="toggleStatus(\'genres\', key, genres, totalGenresActive)" class="tagline cc-button" v-for="(genre, key) in genres" :key="key" :class="{\'cc-button--inActive\': setGenreInactive(genre.active, genre.total)  }" style="margin-right:10px;margin-bottom:10px;font-weight:400">\n                  {{ genre.name }} ({{ genre.total }})\n                </button>\n              </div>\n              <button class="text-small" style v-if="filtersActive" @click="toggleAll(true)" style="margin-bottom:24px;background: none;text-decoration: underline;">Filters wissen</button>\n            </div>\n              <div class="cc-vue" style="margin-top:24px;">\n                <div class="w-dyn-items w-row">\n                  <div class="w-dyn-item w-dyn-item w-col w-col-4" v-for="(item, id) in filteredItems" :key="id" v-html="item.html"></div>\n                  <div v-if="paginationNeeded" style="display:flex;flex-direction:row;justify-content:center;width:100%;align-items:center;">\n                    <button v-bind:disabled="!startItem" v-on:click="changePage(\'previous\')" v-bind:class="{\'cc-button--inActive\': !startItem }" class="button" style="margin-right:5px">\n                      Vorige\n                    </button>\n<span style="margin-left:24px;margin-right:24px;">Pagina {{ activePage }} van {{ totalPages }}</span>\n                    <button v-bind:disabled="disableIfLastPage" v-on:click="changePage(\'next\')" v-bind:class="{\'cc-button--inActive\': disableIfLastPage }" class="button" style="margin-left:5px">\n                      Volgende\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>',mounted:function(){var e=document.getElementById("vueVideoItems").children;if(e){var t=Object.keys(e).map((function(t){return e[t]})).map(this.setAttributes);this.items=t;var n=t.reduce(this.setGenres,{}),i=Object.keys(n).map((function(e){return{name:e,active:!0,total:n[e].total}}));this.genresDefaultObject=n,this.genres=i,this.filterItems(),document.getElementById("videoFallback").innerHTML=""}},methods:{setAttributes:function(e){var t="",n="",i={};return e&&(i=e.children[0].children),i[0]&&(t=i[0].textContent.toLowerCase()),i[1]&&(n=i[1].textContent.toLowerCase()),n||(n="onbepaald"),{html:e.innerHTML,audience:t,genre:n}},setGenres:function(e,t){var n=t.genre,i=0;return e[n]&&(i=e[n].total),_objectSpread({},e,_defineProperty({},n,{total:i+1}))},toggleAll:function(e){var t=this.genres.map((function(e){return _objectSpread({},e,{active:!0})}));this.genres=t;var n=this.audience.map((function(e){return _objectSpread({},e,{active:!0})}));this.audience=n,this.untouchedAudience=!0,this.untouchedGenres=!0,this.filterItems()},toggleStatus:function(e,t,n,i){this.startItem=0;var r=_toConsumableArray(n),a=null,s=[];"genres"===e&&(!0===this.untouchedGenres&&n[t].active?(s=r.map((function(e,n){return _objectSpread({},e,n===t?{active:e.active}:{active:!e.active})})),a=_objectSpread({},r[t],{active:s[t].active})):(s=_toConsumableArray(r),a=_objectSpread({},r[t],{active:!s[t].active}))),"audience"===e&&(!0===this.untouchedAudience&&n[t].active?(s=r.map((function(e,n){return _objectSpread({},e,n===t?{active:e.active}:{active:!e.active})})),a=_objectSpread({},r[t],{active:s[t].active})):(s=_toConsumableArray(r),a=_objectSpread({},r[t],{active:!s[t].active}))),"audience"===e&&!0===this.untouchedAudience&&(this.untouchedAudience=!1),"genres"===e&&!0===this.untouchedGenres&&(this.untouchedGenres=!1),s[t]=a;for(var c=0;c<s.length;c++)this.$set(n,c,s[c]);var o="off";n[t].active&&(o="on"),gtag("event",o,{event_category:n[t].name,event_label:"Filter"}),this.filterItems()},setAudienceInactive:function(e){return!!this.untouchedAudience||!e},setGenreInactive:function(e,t){return!!this.untouchedGenres||(0===t||!e)},changePage:function(e){"next"===e&&(this.startItem=this.startItem+this.itemsPerPage),"previous"===e&&(this.startItem=this.startItem-this.itemsPerPage),this.filterItems(),setTimeout((function(){document.getElementById("scrollToPagination").scrollIntoView({behavior:"smooth"})}),100)},filterItems:function(){var e=this,t=[];t=0===this.totalAudienceActive?this.items:this.items.filter((function(t){var n=e.audience.find((function(e){return e.name===t.audience}));if(n&&n.active)return t}));var n=[],i=this.genres;n=0===this.totalGenresActive?this.items:t.filter((function(e){var t=i.find((function(t){return t.name===e.genre}));if(t&&t.active)return e}));var r=t.reduce(this.setGenres,{}),a=this.genresDefaultObject;for(var s in a)a.hasOwnProperty(s)&&(a[s].total=0);var c=_objectSpread({},this.genresDefaultObject,{},r),o=Object.keys(c).map((function(e){return _objectSpread({},c[e],{name:e})})).map((function(t,n){return _objectSpread({},t,{active:e.genres[n].active})}));this.genres=o,this.totalFilteredItems=n.length;var u=n.slice(this.startItem,this.endItem);this.filteredItems=u}},computed:{totalGenresActive:function(){return this.genres.filter((function(e){return e.active})).length},totalAudienceActive:function(){return this.audience.filter((function(e){return e.active})).length},paginationNeeded:function(){return this.totalFilteredItems>=this.endItem-this.itemsPerPage},totalPages:function(){return Math.ceil(this.totalFilteredItems/this.itemsPerPage)},activePage:function(){return 0===this.startItem?1:this.startItem/this.itemsPerPage+1},disableIfLastPage:function(){return this.startItem+this.itemsPerPage>=this.totalFilteredItems},filtersActive:function(){var e=this.totalGenresActive>0,t=this.totalAudiencesActive>0;return(e||t)&&(!this.untouchedGenres||!this.untouchedAudience)},endItem:function(){return this.startItem+this.itemsPerPage}},data:function(){return{audience:[{name:"volwassenen",order:0,active:!0},{name:"familie",order:1,active:!0}],items:[],filteredItems:[],itemsPerPage:15,startItem:0,genres:[],genresDefaultObject:{},totalFilteredItems:0,untouchedAudience:!0,untouchedGenres:!0}}});