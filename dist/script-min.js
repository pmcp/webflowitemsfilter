"use strict";function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var app=new Vue({el:"#vue",template:'<div class="container" id="scrollToPagination">\n            <div class="filter__container" style="padding-left:10px;padding-right:10px;">\n              <h6>Doelgroep</h6>\n              <div style="display:flex;flex-direction:row;justify-content:start;width:100%">\n                <button v-for="(a, key) in audience" :key="a.name" v-on:click="toggleStatus(\'audience\', key, audience, totalAudienceActive)" v-bind:class="{\'cc-button--inActive\': setAudienceInactive(a.active) }" class="tagline cc-button" style="margin-right:10px;font-weight:400;margin-bottom:0">\n{{ a.name }}\n                </button>\n              </div>\n              <h6>Genre</h6>\n              <div v-if="genres" style="display:flex;flex-direction:row;justify-content:start;width:100%;flex-wrap:wrap">\n                <button v-bind:disabled="genre.total === 0" v-on:click="toggleStatus(\'genres\', key, genres, totalGenresActive)" class="tagline cc-button" v-for="(genre, key) in genres" :key="key" :class="{\'cc-button--inActive\': setGenreInactive(genre.active, genre.total)  }" style="margin-right:10px;margin-bottom:10px;font-weight:400">\n                  {{ genre.name }} ({{ genre.total }})\n                </button>\n              </div>\n              <button class="text-small" style v-if="filtersActive" @click="toggleAll(true)" style="margin-bottom:24px;background: none;text-decoration: underline;">Filters wissen</button>\n            </div>\n              <div class="cc-vue" style="margin-top:24px;">\n                <div class="w-dyn-items w-row">\n                  <div class="w-dyn-item w-dyn-item w-col w-col-4" v-for="(item, id) in filteredItems" :key="id">\n                    <a v-on:click="goToPage(item.url)" class="video-card w-inline-block">\n                      <div v-html="item.html"></div>\n                    </a>\n                  </div>\n                  <div v-if="paginationNeeded" style="display:flex;flex-direction:row;justify-content:center;width:100%;align-items:center;">\n                    <button v-bind:disabled="!startItem" v-on:click="changePage(\'previous\')" v-bind:class="{\'cc-button--inActive\': !startItem }" class="button" style="margin-right:5px">\n                      Vorige\n                    </button>\n<span style="margin-left:24px;margin-right:24px;">Pagina {{ activePage }} van {{ totalPages }}</span>\n                    <button v-bind:disabled="disableIfLastPage" v-on:click="changePage(\'next\')" v-bind:class="{\'cc-button--inActive\': disableIfLastPage }" class="button" style="margin-left:5px">\n                      Volgende\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>',mounted:function(){var e=this,t=document.getElementById("vueVideoItems_batch1"),n=document.getElementById("vueVideoItems_batch2"),i=t.children,r=n.children;if(i){var a=Object.keys(i).map((function(e){return i[e]})),c=Object.keys(r).map((function(e){return r[e]})),o=[].concat(_toConsumableArray(a),_toConsumableArray(c)).map(this.setAttributes);this.items=o;var s=o.reduce(this.setGenres,{}),u=Object.keys(s).map((function(e){return{name:e,active:!0,total:s[e].total}})),l=window.location.search,d=new URLSearchParams(l),h=d.get("genres"),m=d.get("audience"),v=[];v=null!==h?u.map((function(t){var n={};return n=h.indexOf(t.name)>-1?_objectSpread({},t):_objectSpread({},t,{active:!1}),e.untouchedAudience=!1,e.untouchedGenres=!1,n})):_toConsumableArray(u);var f=[];f=null!==m?this.audience.map((function(t){var n={};return n=m.indexOf(t.name)>-1?_objectSpread({},t):_objectSpread({},t,{active:!1}),e.untouchedAudience=!1,e.untouchedGenres=!1,n})):_toConsumableArray(this.audience),this.audience=_toConsumableArray(f),this.genresDefaultObject=s,this.genres=_toConsumableArray(v),this.filterItems(),document.getElementById("videoFallback").innerHTML=""}},methods:{goToPage:function(e){var t=this.genres.filter((function(e){return e.active})).map((function(e){if(e.active)return e.name})),n=this.audience.filter((function(e){return e.active})).map((function(e){if(e.active)return e.name})),i=JSON.stringify(n),r=JSON.stringify(t),a=this.untouchedAudience,c=this.untouchedGenres;window.location.href="".concat(e,"?audience=").concat(i,"&untouchedAudience=").concat(a,"&genres=").concat(r,"&untouchedGenres=").concat(c)},setAttributes:function(e){var t=e.lastElementChild.innerHTML,n=e.lastElementChild.getAttribute("href"),i="",r="",a={};return e&&(a=e.children[0].children),a[0]&&(i=a[0].textContent.toLowerCase()),a[1]&&(r=a[1].textContent.toLowerCase()),r||(r="onbepaald"),{html:t,audience:i,genre:r,url:n}},setGenres:function(e,t){var n=t.genre,i=0;return e[n]&&(i=e[n].total),_objectSpread({},e,_defineProperty({},n,{total:i+1}))},toggleAll:function(e){var t=this.genres.map((function(e){return _objectSpread({},e,{active:!0})}));this.genres=t;var n=this.audience.map((function(e){return _objectSpread({},e,{active:!0})}));this.audience=n,this.untouchedAudience=!0,this.untouchedGenres=!0,this.filterItems()},toggleStatus:function(e,t,n,i){console.log(e,t,n,i),this.startItem=0;var r=_toConsumableArray(n),a=(_objectSpread({},r[t]),[]),c={};"genres"===e&&(!0===this.untouchedGenres&&n[t].active?(a=r.map((function(e,n){return _objectSpread({},e,n===t?{active:e.active}:{active:!e.active})})),c=_objectSpread({},r[t],{active:a[t].active})):(a=_toConsumableArray(r),c=_objectSpread({},r[t],{active:!a[t].active}))),"audience"===e&&(!0===this.untouchedAudience&&n[t].active?(a=r.map((function(e,n){return _objectSpread({},e,n===t?{active:e.active}:{active:!e.active})})),c=_objectSpread({},r[t],{active:a[t].active})):(a=_toConsumableArray(r),c=_objectSpread({},r[t],{active:!a[t].active}))),"audience"===e&&!0===this.untouchedAudience&&(this.untouchedAudience=!1),"genres"===e&&!0===this.untouchedGenres&&(this.untouchedGenres=!1),a[t]=c;for(var o=0;o<a.length;o++)this.$set(n,o,a[o]);this.filterItems()},setAudienceInactive:function(e){return!!this.untouchedAudience||!e},setGenreInactive:function(e,t){return!!this.untouchedGenres||(0===t||!e)},changePage:function(e){"next"===e&&(this.startItem=this.startItem+this.itemsPerPage),"previous"===e&&(this.startItem=this.startItem-this.itemsPerPage),this.filterItems(),setTimeout((function(){document.getElementById("scrollToPagination").scrollIntoView({behavior:"smooth"})}),100)},filterItems:function(){var e=this,t=[];t=0===this.totalAudienceActive?this.items:this.items.filter((function(t){var n=e.audience.find((function(e){return e.name===t.audience}));if(n&&n.active)return t}));var n=[],i=this.genres;n=0===this.totalGenresActive?this.items:t.filter((function(e){var t=i.find((function(t){return t.name===e.genre}));if(t&&t.active)return e}));var r=t.reduce(this.setGenres,{}),a=this.genresDefaultObject;for(var c in a)a.hasOwnProperty(c)&&(a[c].total=0);var o=_objectSpread({},this.genresDefaultObject,{},r),s=Object.keys(o).map((function(e){return _objectSpread({},o[e],{name:e})})).map((function(t,n){return _objectSpread({},t,{active:e.genres[n].active})}));this.genres=s,this.totalFilteredItems=n.length;var u=n.slice(this.startItem,this.endItem);this.filteredItems=u}},computed:{totalGenresActive:function(){return this.genres.filter((function(e){return e.active})).length},totalAudienceActive:function(){return this.audience.filter((function(e){return e.active})).length},paginationNeeded:function(){return this.totalFilteredItems>=this.endItem-this.itemsPerPage},totalPages:function(){return Math.ceil(this.totalFilteredItems/this.itemsPerPage)},activePage:function(){return 0===this.startItem?1:this.startItem/this.itemsPerPage+1},disableIfLastPage:function(){return this.startItem+this.itemsPerPage>=this.totalFilteredItems},filtersActive:function(){var e=this.totalGenresActive>0,t=this.totalAudiencesActive>0;return(e||t)&&(!this.untouchedGenres||!this.untouchedAudience)},endItem:function(){return this.startItem+this.itemsPerPage}},data:function(){return{audience:[{name:"volwassenen",order:0,active:!0},{name:"familie",order:1,active:!0}],items:[],filteredItems:[],itemsPerPage:15,startItem:0,genres:[],genresDefaultObject:{},totalFilteredItems:0,untouchedAudience:!0,untouchedGenres:!0}}});!function(e,t){var n=t.documentElement,i=" w-mod-";n.className+=i+"js",("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)&&(n.className+=i+"touch")}(window,document);