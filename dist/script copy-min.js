var app=new Vue({el:"#vue",template:'<div class="container" id="scrollToPagination">\n            <div class="filter__container" style="padding-left:10px;padding-right:10px;">\n              <h6>Doelgroep</h6>\n              <div style="display:flex;flex-direction:row;justify-content:start;width:100%">\n                <button v-for="(a, key) in audience" :key="a.name" v-on:click="toggleStatus(\'audience\', key, audience, totalAudienceActive)" v-bind:class="{\'cc-button--inActive\': setAudienceInactive(a.active) }" class="tagline cc-button" style="margin-right:10px;font-weight:400;margin-bottom:0">\n{{ a.name }}\n                </button>\n              </div>\n              <h6>Genre</h6>\n              <div v-if="genres" style="display:flex;flex-direction:row;justify-content:start;width:100%;flex-wrap:wrap">\n                <button v-bind:disabled="genre.total === 0" v-on:click="toggleStatus(\'genres\', key, genres, totalGenresActive)" class="tagline cc-button" v-for="(genre, key) in genres" :key="key" :class="{\'cc-button--inActive\': setGenreInactive(genre.active, genre.total)  }" style="margin-right:10px;margin-bottom:10px;font-weight:400">\n                  {{ genre.name }} ({{ genre.total }})\n                </button>\n              </div>\n              <button class="text-small" style v-if="filtersActive" @click="toggleAll(true)" style="margin-bottom:24px;background: none;text-decoration: underline;">Filters wissen</button>\n            </div>\n              <div class="cc-vue" style="margin-top:24px;">\n                <div class="w-dyn-items w-row">\n                  <div class="w-dyn-item w-dyn-item w-col w-col-4" v-for="(item, id) in filteredItems" :key="id">\n                    <a v-on:click="goToPage(item.url)" class="video-card w-inline-block">\n                      <div v-html="item.html"></div>\n                    </a>\n                  </div>\n                  <div v-if="paginationNeeded" style="display:flex;flex-direction:row;justify-content:center;width:100%;align-items:center;">\n                    <button v-bind:disabled="!startItem" v-on:click="changePage(\'previous\')" v-bind:class="{\'cc-button--inActive\': !startItem }" class="button" style="margin-right:5px">\n                      Vorige\n                    </button>\n<span style="margin-left:24px;margin-right:24px;">Pagina {{ activePage }} van {{ totalPages }}</span>\n                    <button v-bind:disabled="disableIfLastPage" v-on:click="changePage(\'next\')" v-bind:class="{\'cc-button--inActive\': disableIfLastPage }" class="button" style="margin-left:5px">\n                      Volgende\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>',mounted(){const e=window.location.search,t=new URLSearchParams(e),n=t.get("genres"),i=t.get("audience");console.log(n,i);const s=document.getElementById("vueVideoItems_batch1"),a=document.getElementById("vueVideoItems_batch2"),c=s.children,r=a.children;if(c){const e=[...Object.keys(c).map((function(e){return c[e]})),...Object.keys(r).map((function(e){return r[e]}))].map(this.setAttributes);this.items=e;const t=e.reduce(this.setGenres,{}),n=Object.keys(t).map((function(e){return{name:e,active:!0,total:t[e].total}})),i=window.location.search,s=new URLSearchParams(i),a=s.get("genres"),o=s.get("audience");let l=[];l=null!==a?n.map(e=>{let t={};return t=a.indexOf(e.name)>-1?{...e}:{...e,active:!1},this.untouchedAudience=!1,this.untouchedGenres=!1,t}):[...n];let u=[];u=null!==o?this.audience.map(e=>{let t={};return t=o.indexOf(e.name)>-1?{...e}:{...e,active:!1},this.untouchedAudience=!1,this.untouchedGenres=!1,t}):[...this.audience],this.audience=[...u],this.genresDefaultObject=t,this.genres=[...l],this.filterItems(),document.getElementById("videoFallback").innerHTML=""}},methods:{goToPage:function(e){const t=this.genres.filter(e=>e.active).map(e=>{if(e.active)return e.name}),n=this.audience.filter(e=>e.active).map(e=>{if(e.active)return e.name}),i=JSON.stringify(n),s=JSON.stringify(t);window.location.href=`/${e}?audience=${i}&genres=${s}`},setAttributes:function(e){const t=e.lastElementChild.innerHTML,n=e.lastElementChild.getAttribute("href");let i="",s="",a={};return e&&(a=e.children[0].children),a[0]&&(i=a[0].textContent.toLowerCase()),a[1]&&(s=a[1].textContent.toLowerCase()),s||(s="onbepaald"),{html:t,audience:i,genre:s,url:n}},setGenres:function(e,t){const n=t.genre;let i=0;e[n]&&(i=e[n].total);const s={total:i+1};return{...e,[n]:s}},toggleAll:function(e){const t=this.genres.map(e=>{return{...e,active:!0}});this.genres=t;const n=this.audience.map(e=>{return{...e,active:!0}});this.audience=n,this.untouchedAudience=!0,this.untouchedGenres=!0,this.filterItems()},toggleStatus:function(e,t,n,i){console.log(e,t,n,i),this.startItem=0;const s=[...n];s[t];let a=[],c={};"genres"===e&&(!0===this.untouchedGenres&&n[t].active?(a=s.map((e,n)=>n===t?{...e,active:e.active}:{...e,active:!e.active}),c={...s[t],active:a[t].active}):(a=[...s],c={...s[t],active:!a[t].active})),"audience"===e&&(!0===this.untouchedAudience&&n[t].active?(a=s.map((e,n)=>n===t?{...e,active:e.active}:{...e,active:!e.active}),c={...s[t],active:a[t].active}):(a=[...s],c={...s[t],active:!a[t].active})),"audience"===e&&!0===this.untouchedAudience&&(this.untouchedAudience=!1),"genres"===e&&!0===this.untouchedGenres&&(this.untouchedGenres=!1),a[t]=c;for(var r=0;r<a.length;r++)this.$set(n,r,a[r]);this.filterItems()},setAudienceInactive:function(e){return!!this.untouchedAudience||!e},setGenreInactive:function(e,t){return!!this.untouchedGenres||(0===t||!e)},changePage:function(e){"next"===e&&(this.startItem=this.startItem+this.itemsPerPage),"previous"===e&&(this.startItem=this.startItem-this.itemsPerPage),this.filterItems(),setTimeout(()=>{document.getElementById("scrollToPagination").scrollIntoView({behavior:"smooth"})},100)},filterItems:function(){let e=[];e=0===this.totalAudienceActive?this.items:this.items.filter(e=>{const t=this.audience.find(t=>t.name===e.audience);if(t&&t.active)return e});let t=[];const n=this.genres;t=0===this.totalGenresActive?this.items:e.filter(e=>{const t=n.find(t=>t.name===e.genre);if(t&&t.active)return e});const i=e.reduce(this.setGenres,{}),s=this.genresDefaultObject;for(let e in s)s.hasOwnProperty(e)&&(s[e].total=0);const a={...this.genresDefaultObject,...i},c=Object.keys(a).map(e=>({...a[e],name:e})).map((e,t)=>({...e,active:this.genres[t].active}));this.genres=c,this.totalFilteredItems=t.length;const r=t.slice(this.startItem,this.endItem);this.filteredItems=r}},computed:{totalGenresActive(){return this.genres.filter((function(e){return e.active})).length},totalAudienceActive(){return this.audience.filter((function(e){return e.active})).length},paginationNeeded(){return this.totalFilteredItems>=this.endItem-this.itemsPerPage},totalPages(){return Math.ceil(this.totalFilteredItems/this.itemsPerPage)},activePage(){return 0===this.startItem?1:this.startItem/this.itemsPerPage+1},disableIfLastPage(){return this.startItem+this.itemsPerPage>=this.totalFilteredItems},filtersActive(){const e=this.totalGenresActive>0,t=this.totalAudiencesActive>0;return(e||t)&&(!this.untouchedGenres||!this.untouchedAudience)},endItem(){return this.startItem+this.itemsPerPage}},data:()=>({audience:[{name:"volwassenen",order:0,active:!0},{name:"familie",order:1,active:!0}],items:[],filteredItems:[],itemsPerPage:15,startItem:0,genres:[],genresDefaultObject:{},totalFilteredItems:0,untouchedAudience:!0,untouchedGenres:!0})});!function(e,t){var n=t.documentElement,i=" w-mod-";n.className+=i+"js",("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)&&(n.className+=i+"touch")}(window,document);